import { Source, Meta } from '@storybook/blocks';

import HeatMapLayer from './HeatMapLayer';

<Meta title="Data Visualization/Heat Map Layer"/>

# Heat Map Layer

A heat map layer can be used to visualize the density of point data on the map.<br/>
Following code shows how to add a simple heat map layer:<br/>

<HeatMapLayer radius={10}/>

<Source code={`
<AzureMapLayerProvider
    type="HeatLayer"
    options={{
        radius={10},
        opacity={1},
        intensity={1},
    }}
/>
`}/>

## color
You can customize the color of the heat map layer by passing the `color` prop like this: <br/>

<HeatMapLayer 
    radius={10}
    color={ [
                'interpolate',
                ['linear'],
                ['heatmap-density'],
                0, 'rgba(33,102,172,0)',
                0.2, 'rgb(103,169,207)',
                0.4, 'rgb(209,229,240)',
                0.6, 'rgb(253,219,199)',
                0.8, 'rgb(239,138,98)',
                1, 'rgb(178,24,43)'
            ]}/>

<Source code={`
<AzureMapLayerProvider
    type="HeatLayer"
    options={{
        radius: 10,
        color: [
                'interpolate',
                ['linear'],
                ['heatmap-density'],
                0, 'rgba(33,102,172,0)',
                0.2, 'rgb(103,169,207)',
                0.4, 'rgb(209,229,240)',
                0.6, 'rgb(253,219,199)',
                0.8, 'rgb(239,138,98)',
                1, 'rgb(178,24,43)'
            ],
    }}
/>
`}/>

## weight
Specifies how much an individual data point contributes to the heatmap. <br/>
Must be a number greater than 0. Default `1`
In our example, we set the weight based on "mag" property of the earthquake data. <br/>

<HeatMapLayer 
    radius={10}
    weight={[
                'interpolate',
                ['exponential', 2], //Using an exponential interpolation since earthquake magnitudes are on an exponential scale.
                ['get', 'mag'],
                0,
                0,
                10,
                1,
            ]}/>

<Source code={`
<AzureMapLayerProvider
    type="HeatLayer"
    options={{
        radius: 10,
        weight: [
                'interpolate',
                ['exponential', 2], //Using an exponential interpolation since earthquake magnitudes are on an exponential scale.
                ['get', 'mag'],
                0,
                0,
                10,
                1,
            ]
    }}
/>
`}/>

For more available properties, see the documentation [HeatMapLayerOptions](https://learn.microsoft.com/en-us/javascript/api/azure-maps-control/atlas.heatmaplayeroptions?view=azure-maps-typescript-latest)    

